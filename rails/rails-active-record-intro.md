Anytime you create a rails app or say your partner created the app and you’ve cloned the app to your computer. 
You’ll need to run the commands
rails db:create — to create the database
Recall this is another instance of the database so data that was created on your partner’s computer isn’t going to be on your computer (until we do something about that).

Rails application is compose of many libraries (gems). One of the major gems it uses is Active Record. 

It is the Rails ORM (Object Relational Mapping)
It is the interface between a Rails application and the database.
Interface (the point between two systems or components). GUI Graphic User Interface - the layer between the user and the application.  
Command Line Interface - the layer between the user and the application

Active Record provides commands that we can run that allow us to
create new tables in the database and also to edit existing tables in the database.


When we’re referring to data that lives in the database, we’re in the Model realm of MVC (Model View Controller) pattern. Model is the component of the pattern responsible for managing the data of the application (what the data should look like). 
The word model gets thrown around a lot.
Model is also a word used to describe a class or a table or a thing. 
A common question as you begin to develop applications or features is, “How do you model that data?” This is programmer speak for “How do you organize that data? What’s a good data structure to hold information about that thing?"

So let’s say for example we want to store information about dogs for a pet application.

What is the data we want to store about dogs?
We know we want a table that represents all these records of dogs and that so far the data will hold the dog’s name, breed, and age.

So we would create a model of Dog with columns of name which is expected to be a string, breed also a string, and age an integer.
So we can manually type out in a dog.rb file in our model folder, 
class Dog but we would also have to create a script to tell the database that we need to create a table named Dog with these columns.

But because rails is awesome, it knows that anytime we’re trying to model something, we’re going to need to create these two files.

So here’s our command for having Rails help us with generating the code that will do these things.
rails generate model Dog name:string breed:string age:integer
rails generate - there are many things that you can generate
model - the class and a script for creating the table with the following indicated columns and their data types

/models/dog.rb
/db/migrate/…..create_dogs.rb

it’s also updating the schema file.
/db/schema.rb

Recall the schema is the blueprint for what our database should look like. So it’s adding information here to indicate there should be a Dog table

So anytime you change the tables (either by adding, editing or removing a table or column) you need to communicate that to the database to have the database reflect those changes.
This is process is called migration.
We generated the migration script but we haven’t told the database to actually run the script.  

<show pgAdmin to demonstrate that the database has no tables>

Before you do changes to your database, it’s a good idea to stop serving or running your app. Changes to your database can heavily affect the app and get out of sync with the database.
ctrl + c

rails db:migrate  — this actually runs the migration scripts which Active Record turns into SQL queries to tell the database to create that table
terminal will tell you that it’s running the script

<show pgAdmin to demonstrate that the database now has a table of Dog with expected columns plus the columns generated by Postgres: id —primary key?, created_at, updated_at>

rails s to serve app

While the app is running, we can use Rails console to interact directly with Active Record/database

rails c

So now let’s create a record/instance of a Dog.
In Rails console, we’re using Ruby code.

> Dog.create name:”Churro”, breed: “Mixed”, age: 1
Notice we’re not indicate a value for id here? Again, that’s left for the database to actually do.

It spits out the SQL query used to insert (create a record) in the database and returns the instance.

Let’s look at pgAdmin to verify the data made it to the database
SELECT * FROM dogs

You can actually create the data for this table right in pgAdmin but it requires us to know SQL to do that….maybe reference SQL output in rails console 
INSERT INTO dogs values(2, 'Scoobie', 'Great Dane', 70, NOW(), NOW())

But also this causes data syncing problems so it’s not a good idea to do.

The beauty of Active Record is that it’s actually making it so that we don’t really have to know SQL in order to do CRUD on data. 
Create some more instances of Dog in rails console
Verify in the DB

We can add instances by calling on model methods
pp Dog.methods  —there are a lot of methods
pp Dog.all << array of objects
pp Dog.first << Notice this is still an array of one instance
pp Dog.last  << Notice this is still an array of one instance
pp Dog.find 3  << PRIMARY KEY
pp Dog.where age: 70
pp Dog.where “age > 10”  << look at the SQL query it’s passing that string of “age > 10” to the SQL query
churro = Dog.find 1  << returns single instance not an array of one
churro.age

UPDATE
churro.age = 15
churro.save << Look at the SQL query!

DELETE
scooby.destroy << Look at the SQL query

Dog.all
verify in pgAdmin
Note row number is not the same as id number 


A Note on Naming Conventions

Naming conventions are a noteworthy aspect of the Rails principle convention over configuration. If you follow the naming conventions, Rails will take care of a lot of the heavy lifting needed to set up an application.
* Model class - singular and PascalCase
* Model file name - singular and snake_case
* Database table - plural and snake_case




